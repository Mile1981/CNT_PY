<script>
$('th').click(function() {
    var table = $(this).parents('table').eq(0)
    var rows = table.find('tr:gt(0)').toArray().sort(comparer($(this).index()))
    this.asc = !this.asc
    if (!this.asc) {
      rows = rows.reverse()
    }
    for (var i = 0; i < rows.length; i++) {
      table.append(rows[i])
    }
    setIcon($(this), this.asc);
  })

  function comparer(index) {
    return function(a, b) {
      var valA = getCellValue(a, index),
        valB = getCellValue(b, index)
      return $.isNumeric(valA) && $.isNumeric(valB) ? valA - valB : valA.localeCompare(valB)
    }
  }

  function getCellValue(row, index) {
    return $(row).children('td').eq(index).html()
  }

  function setIcon(element, asc) {
    $("th").each(function(index) {
      $(this).removeClass("sorting");
      $(this).removeClass("asc");
      $(this).removeClass("desc");
    });
    element.addClass("sorting");
    if (asc) element.addClass("asc");
    else element.addClass("desc");
  }

</script>


<div class="row">
    <div class="col-md-12">
        <h3>
            <span data-i18n="titulo_modulo.dashboard"  ></span>
        </h3>
    </div>
</div>

<div class="row">
    <div class="col-xl-3 col-lg-6 col-md-6 col-12">
        <div class="card bg-primary">
            <div class="card-content">
                <div class="card-body pt-2 pb-0">
                    <div class="media">
                        <div class="media-body white text-left">
                            <h3 class="font-large-1 mb-0">10</h3>
                            <span>Casos Registrados</span>
                        </div>
                        <div class="media-right white text-right">
                            <i class="icon-bulb font-large-1"></i>
                        </div>
                    </div>
                </div>
                <div id="Widget-line-chart" class="height-75 WidgetlineChart WidgetlineChartShadow mb-3">
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 col-lg-6 col-md-6 col-12">
        <div class="card bg-warning">
            <div class="card-content">
                <div class="card-body pt-2 pb-0">
                    <div class="media">
                        <div class="media-body white text-left">
                            <h3 class="font-large-1 mb-0">10</h3>
                            <span>Casos en Trámite</span>
                        </div>
                        <div class="media-right white text-right">
                            <i class="icon-pie-chart font-large-1"></i>
                        </div>
                    </div>
                </div>
                <div id="Widget-line-chart2" class="height-75 WidgetlineChart WidgetlineChartShadow mb-3">
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-3 col-lg-6 col-md-6 col-12">
        <div class="card bg-success">
            <div class="card-content">
                <div class="card-body pt-2 pb-0">
                    <div class="media">
                        <div class="media-body white text-left">
                            <h3 class="font-large-1 mb-0">10</h3>
                            <span>Casos con Respuesta</span>
                        </div>
                        <div class="media-right white text-right">
                            <i class="icon-graph font-large-1"></i>
                        </div>
                    </div>
                </div>
                <div id="Widget-line-chart3" class="height-75 WidgetlineChart WidgetlineChartShadow mb-3">
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 col-lg-6 col-md-6 col-12">
        <div class="card bg-danger">
            <div class="card-content">
                <div class="card-body pt-2 pb-0">
                    <div class="media">
                        <div class="media-body white text-left">
                            <h3 class="font-large-1 mb-0">10</h3>
                            <span>Casos Aceptados</span>
                        </div>
                        <div class="media-right white text-right">
                            <i class="icon-wallet font-large-1"></i>
                        </div>
                    </div>
                </div>
                <div id="Widget-line-chart4" class="height-75 WidgetlineChart WidgetlineChartShadow mb-3">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row match-height">
    <div class="col-xl-8 col-lg-12">
        <div class="card">
            <div class="card-header pb-0">
                <h4 class="card-title">Lista de Casos</h4>
            </div>
            <div class="card-content">
                <div class="card-body">
                    <div class="chart-info mb-2">
                        <span class="text-uppercase mr-3"><i class="fa fa-circle primary font-small-2 mr-1"></i> Registrados</span>
                        <span class="text-uppercase"><i class="fa fa-circle warning font-small-2 mr-1"></i> Aceptados</span>
                    </div>
                    <div id="line-area-chart" class="height-300 lineAreaChart mb-1">
                        <!-- <x-chartist class="" [data]="lineAreaChart.data" [type]="lineAreaChart.type" [options]="lineAreaChart.options"
                          [responsiveOptions]="lineAreaChart.responsiveOptions" [events]="lineAreaChart.events">

                      </x-chartist> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-4 col-lg-12">
        <div class="card">
            <div class="card-content">
                <div class="card-body">
                    <h4 class="card-title">CASOS</h4>
                    <p class="card-text"></p>
                </div>
                <ul class="list-group">
                    <li class="list-group-item">
                        <span class="badge bg-primary float-right">2</span> Historia Clinica
                    </li>
                    <li class="list-group-item">
                        <span class="badge bg-info float-right">2</span> Farmacia
                    </li>
                    <li class="list-group-item">
                        <span class="badge bg-warning float-right">3</span> Facturación
                    </li>
                    <li class="list-group-item">
                        <span class="badge bg-success float-right">1</span> Cartera
                    </li>
                    <li class="list-group-item">
                        <span class="badge bg-danger float-right">2</span> Contabilidad
                    </li>
                </ul>
                
            </div>
        </div>
    </div>
	<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
  Crear Caso 
</button>
	<div class="container">
	
		<div class="row">
		<table class="table table-striped table-bordered" data-pagination="true">
			 <thead>
        <tr>
		    <th><span class="datatable-header-cell-label draggable">#Caso</span></th>
            <th><span class="datatable-header-cell-label draggable">Fecha</span></th>
            <th><span class="datatable-header-cell-label draggable">Descripción</span></th>
			<th><span class="datatable-header-cell-label draggable">Estado</span></th>
			<th>      </th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>PAN-001</td>
            <td>21/07/2020</td>
            <td>Caso en defecto de grilla</td>
			<td>Aprobado</td>
			<td><div class="datatable-body-cell-label" style="margin-left: 0px;">
			
			</i><i class="ft-edit text-primary cursor-pointer ng-star-inserted"></i>
		</div></td>
        </tr>
        <tr>
            <td>PAN-002</td>
            <td>21/07/2020</td>
            <td>No guarda</td>
			<td>Aprobado</td>
			<td ><div class="datatable-body-cell-label" style="margin-left: 0px;" >
			
			</i><i class="ft-edit text-primary cursor-pointer ng-star-inserted" ></i>
		</div></td>
        </tr>
        </tr>
        <tr>
            <td>PAN-003</td>
            <td>21/07/2020</td>
            <td>No muestra botón de cancelar</td>
			<td>Aprobado</td>
			
			<td><div class="datatable-body-cell-label" style="margin-left: 0px;" >
			
			</i><i class="ft-edit text-primary cursor-pointer ng-star-inserted"></i>
		</div></td>
        </tr>
        </tr>
		
    </tbody>
			</table>
		</div>
		<div class="card-body">
		</div>
	</div>
		<!-- Modal -->
<div class="my-module">
<div class="modal fade" id="exampleModal" tabindex="-1" data-backdrop="false" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Registrar Caso</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
       <div class="row" >
        <div class="col-md-12">
            
           
        </div>
		</div>
		<div class="row">
		<div class="col-md-2">
		 <label class="mr-sm-2">Modulo</label>
		</div>
		<div class="col-md-6">
		<div class="elem-group">
    <select class="custom-select mr-sm-2" id="department-selection" name="modulo" required>
        <option value="">Seleccione un Modulo</option>
        <option value="modulo1">Historia Clinica</option>
        <option value="modulo2">Farmacia</option>
        <option value="modulo2">Facturacion</option>
		<option value="modulo2">Cartera</option>
		<option value="modulo2">Contabilidad</option>
		<option value="modulo2">Glosas</option>
		<option value="modulo2">Parametrizacion</option>
    </select>
  </div>
		</div>
		</div>
		<div class="row">
		<div class="col-md-2">
		 <label class="mr-sm-2">Opción</label>
		</div>
		<div class="col-md-6">
		<div class="elem-group">
   <input type="text" class="form-control" id="opcion" name="opcion_name" placeholder="Opción">
  </div>
		</div>
		</div>
		<div class="row">
		<div class="col-md-2">
		 <label class="mr-sm-2">Descripción</label>
		</div>
		<div class="col-md-6">
		<div class="elem-group">
   <textarea type="text" class="form-control" id="descripcion" name="descripcion_name" placeholder="Descripción"></textarea>  
   </div>
		</div>
		</div>
		<div class="row">
		<div class="col-md-2">
		 <label class="mr-sm-2">Adjuntos</label>
		</div>
		<div class="col-md-6">
		<div class="elem-group">
  <div class="btn btn-primary btn-sm float-left">			
      <input type="file">
   </div>
		</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary">Guardar</button>
      </div>
    </div>
  </div>
</div>	
</div>
</div>


<!-- Modal / Ventana / Overlay en HTML -->


<div class="modal fade" id="EditarModal" tabindex="-1" data-backdrop="false" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Caso</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
	  
	  <div class="modal-body">
			<div class="row">
		<div class="col-md-2">
		 <label class="mr-sm-2">Modulo</label>
		</div>
		<div class="col-md-6">
		<div class="elem-group">
   <input type="text" class="form-control" id="opcion" name="opcion_name" placeholder="Presupuesto Privado">
  </div>
		</div>
		</div>
      </div>
	  
      <div class="modal-body">
			<div class="row">
		<div class="col-md-2">
		 <label class="mr-sm-2">Opción</label>
		</div>
		<div class="col-md-6">
		<div class="elem-group">
   <input type="text" class="form-control" id="opcion" name="opcion_name" placeholder="Registrar Ejecución">
  </div>
		</div>
		</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary">Guardar</button>
      </div>
    </div>
  </div>
</div>	



<script src="/modulos/dashboard/js/index.js" type="text/javascript"></script>
